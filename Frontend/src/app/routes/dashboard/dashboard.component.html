<div class="wrapper">
    <div class="container p-5">
        <h1 class="text-center mb-5">
            Admin Center Panel
        </h1>



        <h2 class="text-center mb-5">
            Users Data
        </h2>

        <table class="table tabellaUtenti">

            <thead class="thead-dark">
                <tr>


                    <th scope="col">#</th>
                    <th scope="col">Username</th>
                    <th scope="col">Permission level</th>
                    <th scope="col">Edit</th>

                </tr>
            </thead>
            <tbody class="tbody">
                <tr class="pointer" *ngFor="let submit of usersData ; let i = index" (click)="goToDetails(submit.id)">
                    <th scope="row"> {{i + 1}}</th>
                    <td>{{submit.username}} </td>
                    <td *ngIf="submit.permissions == 1">Admin</td>
                    <td *ngIf="submit.permissions == 2">Press</td>
                    <td *ngIf="submit.permissions == 3">Basic</td>
                    <td><i class="fa fa-edit" style="font-size:36px" id="editing"></i> </td>

                </tr>
            </tbody>
        </table>

        <h2 class="text-center mb-5">Covid Data </h2>
        <div class="flex-container">
            <button class="btn" (click)="getCountries();saveCountries()"><i class="fa fa-download"
                    style="font-size:36px"></i></button>
        </div>

        <table class="table">
            <thead class="thead-dark">
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Country</th>
                    <th scope="col">Population</th>
                    <th scope="col">Cases</th>
                    <th scope="col">Deaths</th>
                    <th scope="col">Recoveries</th>
                    <th scope="col">Recovery Rate</th>
                    <th scope="col">Death Rate</th>
                    <th scope="col">Date</th>
                </tr>
            </thead>
            <tbody class="tbody">
                <tr *ngFor="let entry of covidData|sortField:'country'| sortField:'date' |paginate: { itemsPerPage: 249, currentPage: page }  ; let i = index">
                    <th scope="row"> {{i + 1}}</th>
                    <td>{{entry.country}}</td>
                    <td>{{entry.population}}</td>
                    <td>{{entry.cases}}</td>
                    <td>{{entry.deaths}}</td>
                    <td>{{entry.recoveries}}</td>
                    <td>{{entry.recoveryRate}}</td>
                    <td>{{entry.fatalityRate}}</td>
                    <td>{{entry.date | date:'shortDate'}}</td>
                </tr>
            </tbody>
        </table>
        <div class="mx-auto" style="width: 500px;">
            <pagination-controls (pageChange)="page = $event"></pagination-controls>
        </div>

        <ngx-scrolltop></ngx-scrolltop>

    </div>
</div>